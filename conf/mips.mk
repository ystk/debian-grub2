
# Generated by genmk.rb, please don't edit!
# -*- makefile -*-

COMMON_CFLAGS += -mexplicit-relocs -mflush-func=grub_cpu_flush_cache

# Images.
kernel_img_HEADERS += cpu/cache.h

# Scripts.
sbin_SCRIPTS = 
bin_SCRIPTS = 

# For relocator.mod.
pkglib_MODULES += relocator.mod
relocator_mod_SOURCES = lib/$(target_cpu)/relocator.c lib/$(target_cpu)/relocator_asm.S

clean-module-relocator.mod.1:
	rm -f relocator.mod mod-relocator.o mod-relocator.c pre-relocator.o relocator_mod-lib___target_cpu__relocator.o relocator_mod-lib___target_cpu__relocator_asm.o und-relocator.lst

CLEAN_MODULE_TARGETS += clean-module-relocator.mod.1

clean-module-relocator.mod-symbol.1:
	rm -f def-relocator.lst

CLEAN_MODULE_TARGETS += clean-module-relocator.mod-symbol.1
DEFSYMFILES += def-relocator.lst
mostlyclean-module-relocator.mod.1:
	rm -f relocator_mod-lib___target_cpu__relocator.d relocator_mod-lib___target_cpu__relocator_asm.d

MOSTLYCLEAN_MODULE_TARGETS += mostlyclean-module-relocator.mod.1
UNDSYMFILES += und-relocator.lst

ifeq ($(TARGET_NO_MODULES), yes)
relocator.mod: pre-relocator.o $(TARGET_OBJ2ELF)
	-rm -f $@
	$(TARGET_CC) $(relocator_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ pre-relocator.o
	if test ! -z "$(TARGET_OBJ2ELF)"; then ./$(TARGET_OBJ2ELF) $@ || (rm -f $@; exit 1); fi
	if test x$(TARGET_NO_STRIP) != xyes ; then $(STRIP) --strip-unneeded -K grub_mod_init -K grub_mod_fini -K _grub_mod_init -K _grub_mod_fini -R .note -R .comment $@; fi
else
ifneq ($(TARGET_APPLE_CC),1)
relocator.mod: pre-relocator.o mod-relocator.o $(TARGET_OBJ2ELF)
	-rm -f $@
	$(TARGET_CC) $(relocator_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ pre-relocator.o mod-relocator.o
	if test ! -z "$(TARGET_OBJ2ELF)"; then ./$(TARGET_OBJ2ELF) $@ || (rm -f $@; exit 1); fi
	if test x$(TARGET_NO_STRIP) != xyes ; then $(STRIP) --strip-unneeded -K grub_mod_init -K grub_mod_fini -K _grub_mod_init -K _grub_mod_fini -R .note -R .comment $@; fi
else
relocator.mod: pre-relocator.o mod-relocator.o $(TARGET_OBJ2ELF)
	-rm -f $@
	-rm -f $@.bin
	$(TARGET_CC) $(relocator_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@.bin pre-relocator.o mod-relocator.o
	$(OBJCONV) -f$(TARGET_MODULE_FORMAT) -nr:_grub_mod_init:grub_mod_init -nr:_grub_mod_fini:grub_mod_fini -wd1106 -ew2030 -ew2050 -nu -nd $@.bin $@
	-rm -f $@.bin
endif
endif

pre-relocator.o: $(relocator_mod_DEPENDENCIES) relocator_mod-lib___target_cpu__relocator.o relocator_mod-lib___target_cpu__relocator_asm.o
	-rm -f $@
	$(TARGET_CC) $(relocator_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ relocator_mod-lib___target_cpu__relocator.o relocator_mod-lib___target_cpu__relocator_asm.o

mod-relocator.o: mod-relocator.c
	$(TARGET_CC) $(TARGET_CPPFLAGS) $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -DGRUB_FILE=\"mod-relocator.c\" -c -o $@ $<

mod-relocator.c: $(builddir)/moddep.lst $(srcdir)/genmodsrc.sh
	sh $(srcdir)/genmodsrc.sh 'relocator' $< > $@ || (rm -f $@; exit 1)

ifneq ($(TARGET_APPLE_CC),1)
def-relocator.lst: pre-relocator.o
	$(NM) -g --defined-only -P -p $< | sed 's/^\([^ ]*\).*/\1 relocator/' > $@
else
def-relocator.lst: pre-relocator.o
	$(NM) -g -P -p $< | grep -E '^[a-zA-Z0-9_]* [TDS]'  | sed 's/^\([^ ]*\).*/\1 relocator/' > $@
endif

und-relocator.lst: pre-relocator.o
	echo 'relocator' > $@
	$(NM) -u -P -p $< | cut -f1 -d' ' >> $@

relocator_mod-lib___target_cpu__relocator.o: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES)
	$(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -DGRUB_FILE=\"lib/$(target_cpu)/relocator.c\" -MD -c -o $@ $<
-include relocator_mod-lib___target_cpu__relocator.d

clean-module-relocator_mod-lib___target_cpu__relocator-extra.1:
	rm -f cmd-relocator_mod-lib___target_cpu__relocator.lst fs-relocator_mod-lib___target_cpu__relocator.lst partmap-relocator_mod-lib___target_cpu__relocator.lst handler-relocator_mod-lib___target_cpu__relocator.lst parttool-relocator_mod-lib___target_cpu__relocator.lst video-relocator_mod-lib___target_cpu__relocator.lst terminal-relocator_mod-lib___target_cpu__relocator.lst

CLEAN_MODULE_TARGETS += clean-module-relocator_mod-lib___target_cpu__relocator-extra.1

COMMANDFILES += cmd-relocator_mod-lib___target_cpu__relocator.lst
FSFILES += fs-relocator_mod-lib___target_cpu__relocator.lst
PARTTOOLFILES += parttool-relocator_mod-lib___target_cpu__relocator.lst
PARTMAPFILES += partmap-relocator_mod-lib___target_cpu__relocator.lst
HANDLERFILES += handler-relocator_mod-lib___target_cpu__relocator.lst
TERMINALFILES += terminal-relocator_mod-lib___target_cpu__relocator.lst
VIDEOFILES += video-relocator_mod-lib___target_cpu__relocator.lst

cmd-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) gencmdlist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/gencmdlist.sh relocator > $@ || (rm -f $@; exit 1)

fs-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genfslist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genfslist.sh relocator > $@ || (rm -f $@; exit 1)

parttool-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genparttoollist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genparttoollist.sh relocator > $@ || (rm -f $@; exit 1)

partmap-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genpartmaplist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genpartmaplist.sh relocator > $@ || (rm -f $@; exit 1)

handler-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genhandlerlist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genhandlerlist.sh relocator > $@ || (rm -f $@; exit 1)

terminal-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genterminallist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genterminallist.sh relocator > $@ || (rm -f $@; exit 1)

video-relocator_mod-lib___target_cpu__relocator.lst: lib/$(target_cpu)/relocator.c $(lib/$(target_cpu)/relocator.c_DEPENDENCIES) genvideolist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(relocator_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genvideolist.sh relocator > $@ || (rm -f $@; exit 1)

relocator_mod-lib___target_cpu__relocator_asm.o: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES)
	$(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -DGRUB_FILE=\"lib/$(target_cpu)/relocator_asm.S\" -MD -c -o $@ $<
-include relocator_mod-lib___target_cpu__relocator_asm.d

clean-module-relocator_mod-lib___target_cpu__relocator_asm-extra.1:
	rm -f cmd-relocator_mod-lib___target_cpu__relocator_asm.lst fs-relocator_mod-lib___target_cpu__relocator_asm.lst partmap-relocator_mod-lib___target_cpu__relocator_asm.lst handler-relocator_mod-lib___target_cpu__relocator_asm.lst parttool-relocator_mod-lib___target_cpu__relocator_asm.lst video-relocator_mod-lib___target_cpu__relocator_asm.lst terminal-relocator_mod-lib___target_cpu__relocator_asm.lst

CLEAN_MODULE_TARGETS += clean-module-relocator_mod-lib___target_cpu__relocator_asm-extra.1

COMMANDFILES += cmd-relocator_mod-lib___target_cpu__relocator_asm.lst
FSFILES += fs-relocator_mod-lib___target_cpu__relocator_asm.lst
PARTTOOLFILES += parttool-relocator_mod-lib___target_cpu__relocator_asm.lst
PARTMAPFILES += partmap-relocator_mod-lib___target_cpu__relocator_asm.lst
HANDLERFILES += handler-relocator_mod-lib___target_cpu__relocator_asm.lst
TERMINALFILES += terminal-relocator_mod-lib___target_cpu__relocator_asm.lst
VIDEOFILES += video-relocator_mod-lib___target_cpu__relocator_asm.lst

cmd-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) gencmdlist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/gencmdlist.sh relocator > $@ || (rm -f $@; exit 1)

fs-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genfslist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 -DGRUB_LST_GENERATOR $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genfslist.sh relocator > $@ || (rm -f $@; exit 1)

parttool-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genparttoollist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genparttoollist.sh relocator > $@ || (rm -f $@; exit 1)

partmap-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genpartmaplist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 -DGRUB_LST_GENERATOR $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genpartmaplist.sh relocator > $@ || (rm -f $@; exit 1)

handler-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genhandlerlist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genhandlerlist.sh relocator > $@ || (rm -f $@; exit 1)

terminal-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genterminallist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genterminallist.sh relocator > $@ || (rm -f $@; exit 1)

video-relocator_mod-lib___target_cpu__relocator_asm.lst: lib/$(target_cpu)/relocator_asm.S $(lib/$(target_cpu)/relocator_asm.S_DEPENDENCIES) genvideolist.sh
	set -e; 	  $(TARGET_CC) -Ilib/$(target_cpu) -I$(srcdir)/lib/$(target_cpu) $(TARGET_CPPFLAGS) -DASM_FILE=1 -DGRUB_LST_GENERATOR $(TARGET_ASFLAGS) $(relocator_mod_ASFLAGS) -E $< 	  | sh $(srcdir)/genvideolist.sh relocator > $@ || (rm -f $@; exit 1)

relocator_mod_CFLAGS = $(COMMON_CFLAGS)
relocator_mod_ASFLAGS = $(COMMON_ASFLAGS)
relocator_mod_LDFLAGS = $(COMMON_LDFLAGS)

pkglib_MODULES += multiboot2.mod
multiboot2_mod_SOURCES = loader/multiboot.c \
			 loader/multiboot_mbi2.c

clean-module-multiboot2.mod.1:
	rm -f multiboot2.mod mod-multiboot2.o mod-multiboot2.c pre-multiboot2.o multiboot2_mod-loader_multiboot.o multiboot2_mod-loader_multiboot_mbi2.o und-multiboot2.lst

CLEAN_MODULE_TARGETS += clean-module-multiboot2.mod.1

clean-module-multiboot2.mod-symbol.1:
	rm -f def-multiboot2.lst

CLEAN_MODULE_TARGETS += clean-module-multiboot2.mod-symbol.1
DEFSYMFILES += def-multiboot2.lst
mostlyclean-module-multiboot2.mod.1:
	rm -f multiboot2_mod-loader_multiboot.d multiboot2_mod-loader_multiboot_mbi2.d

MOSTLYCLEAN_MODULE_TARGETS += mostlyclean-module-multiboot2.mod.1
UNDSYMFILES += und-multiboot2.lst

ifeq ($(TARGET_NO_MODULES), yes)
multiboot2.mod: pre-multiboot2.o $(TARGET_OBJ2ELF)
	-rm -f $@
	$(TARGET_CC) $(multiboot2_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ pre-multiboot2.o
	if test ! -z "$(TARGET_OBJ2ELF)"; then ./$(TARGET_OBJ2ELF) $@ || (rm -f $@; exit 1); fi
	if test x$(TARGET_NO_STRIP) != xyes ; then $(STRIP) --strip-unneeded -K grub_mod_init -K grub_mod_fini -K _grub_mod_init -K _grub_mod_fini -R .note -R .comment $@; fi
else
ifneq ($(TARGET_APPLE_CC),1)
multiboot2.mod: pre-multiboot2.o mod-multiboot2.o $(TARGET_OBJ2ELF)
	-rm -f $@
	$(TARGET_CC) $(multiboot2_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ pre-multiboot2.o mod-multiboot2.o
	if test ! -z "$(TARGET_OBJ2ELF)"; then ./$(TARGET_OBJ2ELF) $@ || (rm -f $@; exit 1); fi
	if test x$(TARGET_NO_STRIP) != xyes ; then $(STRIP) --strip-unneeded -K grub_mod_init -K grub_mod_fini -K _grub_mod_init -K _grub_mod_fini -R .note -R .comment $@; fi
else
multiboot2.mod: pre-multiboot2.o mod-multiboot2.o $(TARGET_OBJ2ELF)
	-rm -f $@
	-rm -f $@.bin
	$(TARGET_CC) $(multiboot2_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@.bin pre-multiboot2.o mod-multiboot2.o
	$(OBJCONV) -f$(TARGET_MODULE_FORMAT) -nr:_grub_mod_init:grub_mod_init -nr:_grub_mod_fini:grub_mod_fini -wd1106 -ew2030 -ew2050 -nu -nd $@.bin $@
	-rm -f $@.bin
endif
endif

pre-multiboot2.o: $(multiboot2_mod_DEPENDENCIES) multiboot2_mod-loader_multiboot.o multiboot2_mod-loader_multiboot_mbi2.o
	-rm -f $@
	$(TARGET_CC) $(multiboot2_mod_LDFLAGS) $(TARGET_LDFLAGS) -Wl,-r,-d -o $@ multiboot2_mod-loader_multiboot.o multiboot2_mod-loader_multiboot_mbi2.o

mod-multiboot2.o: mod-multiboot2.c
	$(TARGET_CC) $(TARGET_CPPFLAGS) $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -DGRUB_FILE=\"mod-multiboot2.c\" -c -o $@ $<

mod-multiboot2.c: $(builddir)/moddep.lst $(srcdir)/genmodsrc.sh
	sh $(srcdir)/genmodsrc.sh 'multiboot2' $< > $@ || (rm -f $@; exit 1)

ifneq ($(TARGET_APPLE_CC),1)
def-multiboot2.lst: pre-multiboot2.o
	$(NM) -g --defined-only -P -p $< | sed 's/^\([^ ]*\).*/\1 multiboot2/' > $@
else
def-multiboot2.lst: pre-multiboot2.o
	$(NM) -g -P -p $< | grep -E '^[a-zA-Z0-9_]* [TDS]'  | sed 's/^\([^ ]*\).*/\1 multiboot2/' > $@
endif

und-multiboot2.lst: pre-multiboot2.o
	echo 'multiboot2' > $@
	$(NM) -u -P -p $< | cut -f1 -d' ' >> $@

multiboot2_mod-loader_multiboot.o: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES)
	$(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -DGRUB_FILE=\"loader/multiboot.c\" -MD -c -o $@ $<
-include multiboot2_mod-loader_multiboot.d

clean-module-multiboot2_mod-loader_multiboot-extra.1:
	rm -f cmd-multiboot2_mod-loader_multiboot.lst fs-multiboot2_mod-loader_multiboot.lst partmap-multiboot2_mod-loader_multiboot.lst handler-multiboot2_mod-loader_multiboot.lst parttool-multiboot2_mod-loader_multiboot.lst video-multiboot2_mod-loader_multiboot.lst terminal-multiboot2_mod-loader_multiboot.lst

CLEAN_MODULE_TARGETS += clean-module-multiboot2_mod-loader_multiboot-extra.1

COMMANDFILES += cmd-multiboot2_mod-loader_multiboot.lst
FSFILES += fs-multiboot2_mod-loader_multiboot.lst
PARTTOOLFILES += parttool-multiboot2_mod-loader_multiboot.lst
PARTMAPFILES += partmap-multiboot2_mod-loader_multiboot.lst
HANDLERFILES += handler-multiboot2_mod-loader_multiboot.lst
TERMINALFILES += terminal-multiboot2_mod-loader_multiboot.lst
VIDEOFILES += video-multiboot2_mod-loader_multiboot.lst

cmd-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) gencmdlist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/gencmdlist.sh multiboot2 > $@ || (rm -f $@; exit 1)

fs-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genfslist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genfslist.sh multiboot2 > $@ || (rm -f $@; exit 1)

parttool-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genparttoollist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genparttoollist.sh multiboot2 > $@ || (rm -f $@; exit 1)

partmap-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genpartmaplist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genpartmaplist.sh multiboot2 > $@ || (rm -f $@; exit 1)

handler-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genhandlerlist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genhandlerlist.sh multiboot2 > $@ || (rm -f $@; exit 1)

terminal-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genterminallist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genterminallist.sh multiboot2 > $@ || (rm -f $@; exit 1)

video-multiboot2_mod-loader_multiboot.lst: loader/multiboot.c $(loader/multiboot.c_DEPENDENCIES) genvideolist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genvideolist.sh multiboot2 > $@ || (rm -f $@; exit 1)

multiboot2_mod-loader_multiboot_mbi2.o: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES)
	$(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -DGRUB_FILE=\"loader/multiboot_mbi2.c\" -MD -c -o $@ $<
-include multiboot2_mod-loader_multiboot_mbi2.d

clean-module-multiboot2_mod-loader_multiboot_mbi2-extra.1:
	rm -f cmd-multiboot2_mod-loader_multiboot_mbi2.lst fs-multiboot2_mod-loader_multiboot_mbi2.lst partmap-multiboot2_mod-loader_multiboot_mbi2.lst handler-multiboot2_mod-loader_multiboot_mbi2.lst parttool-multiboot2_mod-loader_multiboot_mbi2.lst video-multiboot2_mod-loader_multiboot_mbi2.lst terminal-multiboot2_mod-loader_multiboot_mbi2.lst

CLEAN_MODULE_TARGETS += clean-module-multiboot2_mod-loader_multiboot_mbi2-extra.1

COMMANDFILES += cmd-multiboot2_mod-loader_multiboot_mbi2.lst
FSFILES += fs-multiboot2_mod-loader_multiboot_mbi2.lst
PARTTOOLFILES += parttool-multiboot2_mod-loader_multiboot_mbi2.lst
PARTMAPFILES += partmap-multiboot2_mod-loader_multiboot_mbi2.lst
HANDLERFILES += handler-multiboot2_mod-loader_multiboot_mbi2.lst
TERMINALFILES += terminal-multiboot2_mod-loader_multiboot_mbi2.lst
VIDEOFILES += video-multiboot2_mod-loader_multiboot_mbi2.lst

cmd-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) gencmdlist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/gencmdlist.sh multiboot2 > $@ || (rm -f $@; exit 1)

fs-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genfslist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genfslist.sh multiboot2 > $@ || (rm -f $@; exit 1)

parttool-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genparttoollist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genparttoollist.sh multiboot2 > $@ || (rm -f $@; exit 1)

partmap-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genpartmaplist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genpartmaplist.sh multiboot2 > $@ || (rm -f $@; exit 1)

handler-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genhandlerlist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genhandlerlist.sh multiboot2 > $@ || (rm -f $@; exit 1)

terminal-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genterminallist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genterminallist.sh multiboot2 > $@ || (rm -f $@; exit 1)

video-multiboot2_mod-loader_multiboot_mbi2.lst: loader/multiboot_mbi2.c $(loader/multiboot_mbi2.c_DEPENDENCIES) genvideolist.sh
	set -e; 	  $(TARGET_CC) -Iloader -I$(srcdir)/loader $(TARGET_CPPFLAGS)  -DGRUB_LST_GENERATOR $(TARGET_CFLAGS) $(multiboot2_mod_CFLAGS) -E $< 	  | sh $(srcdir)/genvideolist.sh multiboot2 > $@ || (rm -f $@; exit 1)

multiboot2_mod_CFLAGS = $(COMMON_CFLAGS) -DGRUB_USE_MULTIBOOT2
multiboot2_mod_LDFLAGS = $(COMMON_LDFLAGS)
multiboot2_mod_ASFLAGS = $(COMMON_ASFLAGS)

include $(srcdir)/conf/common.mk
